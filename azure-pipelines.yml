# Go
# Build your Go project.
# Add steps that test, save build artifacts, deploy, and more:
# https://docs.microsoft.com/azure/devops/pipelines/languages/go

trigger:
- master

pool:
  name: 'Ubuntu_Pool'

variables:
  GO_INSTALL: '/usr/lib/go-1.12'
  
steps:
- script: |
    echo '##vso[task.setvariable variable=path]$(PATH):$(GO_INSTALL)/bin'
  displayName: 'Setting Go installation'

- script: |
    go version
    go env
  displayName: 'Checking Go installation'

- script: |
    go build -v
  workingDirectory: $(Build.SourcesDirectory)/cmd/ipfs
  displayName: 'Building'

